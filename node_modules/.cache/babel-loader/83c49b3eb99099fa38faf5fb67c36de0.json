{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\darkl\\\\OneDrive\\\\Bureau\\\\formation\\\\projet 13\\\\bank\\\\src\\\\pages\\\\Profil\\\\Profil.js\",\n  _s = $RefreshSig$();\nimport \"./Profil.css\";\nimport { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getLoginFetch, saveUserProfil } from \"../../services/API\";\nimport { getFirstName } from \"../../features/User/firstName\";\nimport { getLastName } from \"../../features/User/lastName\";\nimport { Navigate } from \"react-router-dom\";\nimport Account from \"../../components/Account/Account\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Profil() {\n  _s();\n  // Use State\n  let [newFirstName, setNewFirstName] = useState(\"\");\n  let [newLastName, setNewLastName] = useState(\"\");\n\n  // Use Selector / Use Effect\n  const dispatch = useDispatch();\n  const firstName = useSelector(state => state.firstName.value);\n  const lastName = useSelector(state => state.lastName.value);\n  const token = useSelector(state => state.token.value);\n  useEffect(() => {\n    const user = getLoginFetch(token);\n    user.then(obj => {\n      dispatch(getFirstName(obj.firstName));\n      dispatch(getLastName(obj.lastName));\n    });\n  }, []);\n\n  // Edit name\n  const handleEdit = () => {\n    document.getElementById(\"fullName\").style.display = \"none\";\n    document.getElementById(\"edit-button\").style.display = \"none\";\n    document.getElementById(\"edit-section\").style.display = \"block\";\n  };\n\n  // Save Edit\n  const handleEditSave = () => {\n    document.getElementById(\"fullName\").style.display = \"block\";\n    document.getElementById(\"edit-button\").style.display = \"initial\";\n    document.getElementById(\"edit-section\").style.display = \"none\";\n    dispatch(getFirstName(newFirstName));\n    dispatch(getLastName(newLastName));\n    const fullName = {\n      \"firstName\": newFirstName,\n      \"lastName\": newLastName\n    };\n    saveUserProfil(token, fullName);\n  };\n\n  // Cancel Edit\n  const handleEditCancel = () => {\n    document.getElementById(\"fullName\").style.display = \"block\";\n    document.getElementById(\"edit-button\").style.display = \"initial\";\n    document.getElementById(\"edit-section\").style.display = \"none\";\n  };\n\n  // Redirection\n  if (token === 0) return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 28\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"bg-dark\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        id: \"welcome-name\",\n        children: [\"Welcome back\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"fullName\",\n          children: [firstName, \" \", lastName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"edit-button\",\n        type: \"button\",\n        onClick: handleEdit,\n        children: \"Edit Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"edit-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          name: \"edit\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profil-input-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: firstName,\n              onChange: e => setNewFirstName(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"profil-input-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: lastName,\n              onChange: e => setNewLastName(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"btn-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"save-button\",\n            onClick: handleEditSave,\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"cancel-button\",\n            onClick: handleEditCancel,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"sr-only\",\n      children: \"Accounts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Account, {\n      titre: \"Argent Bank Checking (x8349)\",\n      montant: \"$2,082.79\",\n      description: \"Available Balance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Account, {\n      titre: \"Argent Bank Savings (x6712)\",\n      montant: \"$10,928.42\",\n      description: \"Available Balance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Account, {\n      titre: \"Argent Bank Credit Card (x8349)\",\n      montant: \"$184.30\",\n      description: \"Current Balance\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n}\n_s(Profil, \"S/0PFi3hLaSa7P1GNt72oGRUjD8=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = Profil;\nexport default Profil;\nvar _c;\n$RefreshReg$(_c, \"Profil\");","map":{"version":3,"names":["useState","useEffect","useSelector","useDispatch","getLoginFetch","saveUserProfil","getFirstName","getLastName","Navigate","Account","Profil","newFirstName","setNewFirstName","newLastName","setNewLastName","dispatch","firstName","state","value","lastName","token","user","then","obj","handleEdit","document","getElementById","style","display","handleEditSave","fullName","handleEditCancel","e","target"],"sources":["C:/Users/darkl/OneDrive/Bureau/formation/projet 13/bank/src/pages/Profil/Profil.js"],"sourcesContent":["import \"./Profil.css\";\nimport { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getLoginFetch, saveUserProfil } from \"../../services/API\";\nimport { getFirstName } from \"../../features/User/firstName\";\nimport { getLastName } from \"../../features/User/lastName\";\nimport { Navigate } from \"react-router-dom\";\nimport Account from \"../../components/Account/Account\";\n\n\nfunction Profil() {\n    // Use State\n    let [newFirstName, setNewFirstName] = useState(\"\");\n    let [newLastName, setNewLastName] = useState(\"\");\n\n\n    // Use Selector / Use Effect\n    const dispatch = useDispatch();\n\n    const firstName = useSelector((state) => state.firstName.value);\n    const lastName = useSelector((state) => state.lastName.value);\n    \n    const token = useSelector((state) => state.token.value);\n\n    useEffect(() => {\n        const user = getLoginFetch(token);\n        user.then(obj => {\n            dispatch(getFirstName(obj.firstName));\n            dispatch(getLastName(obj.lastName));\n        });\n    }, []);\n\n\n    // Edit name\n    const handleEdit = () => {\n        document.getElementById(\"fullName\").style.display = \"none\";\n        document.getElementById(\"edit-button\").style.display = \"none\";\n        document.getElementById(\"edit-section\").style.display = \"block\";\n    }\n\n    \n    // Save Edit\n    const handleEditSave = () => {\n        document.getElementById(\"fullName\").style.display = \"block\";\n        document.getElementById(\"edit-button\").style.display = \"initial\";\n        document.getElementById(\"edit-section\").style.display = \"none\";\n        dispatch(getFirstName(newFirstName));\n        dispatch(getLastName(newLastName));\n        const fullName = {\"firstName\": newFirstName, \"lastName\": newLastName};\n        saveUserProfil(token, fullName);\n    }\n\n\n    // Cancel Edit\n    const handleEditCancel = () => {\n        document.getElementById(\"fullName\").style.display = \"block\";\n        document.getElementById(\"edit-button\").style.display = \"initial\";\n        document.getElementById(\"edit-section\").style.display = \"none\";\n    }\n\n\n    // Redirection\n    if(token === 0) return <Navigate to=\"/login\" />\n\n    return (\n        <main className=\"bg-dark\">\n            <div className=\"header\">\n                <h1 id=\"welcome-name\">\n                    Welcome back<br />\n                    <span id=\"fullName\">{firstName} {lastName}</span>\n                </h1>\n                <button id=\"edit-button\" type=\"button\" onClick={handleEdit}>Edit Name</button>\n                <div id=\"edit-section\">\n                    <form name=\"edit\">\n                        <div className=\"profil-input-wrapper\">\n                            <input type=\"text\" placeholder={firstName} onChange={e => setNewFirstName(e.target.value)} required />\n                        </div>\n                        <div className=\"profil-input-wrapper\">\n                            <input type=\"text\" placeholder={lastName} onChange={e => setNewLastName(e.target.value)} required />\n                        </div>\n                    </form>\n                    <div className=\"btn-form\">\n                        <button type=\"submit\" className=\"save-button\" onClick={handleEditSave}>Save</button>\n                        <button type=\"button\" className=\"cancel-button\" onClick={handleEditCancel}>Cancel</button>\n                    </div>\n                </div>\n            </div>\n            <h2 className=\"sr-only\">Accounts</h2>\n            <Account titre=\"Argent Bank Checking (x8349)\" montant=\"$2,082.79\" description=\"Available Balance\" />\n            <Account titre=\"Argent Bank Savings (x6712)\" montant=\"$10,928.42\" description=\"Available Balance\" />\n            <Account titre=\"Argent Bank Credit Card (x8349)\" montant=\"$184.30\" description=\"Current Balance\" />\n        </main>\n    );\n}\n\nexport default Profil;"],"mappings":"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"},"metadata":{},"sourceType":"module"}